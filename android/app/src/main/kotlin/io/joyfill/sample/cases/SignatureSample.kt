package io.joyfill.sample.cases

import androidx.compose.runtime.Composable
import io.joyfill.sample.ThemedSample
import joyfill.FieldUpdateChange
import joyfill.Form
import joyfill.Mode
import joyfill.buildDocument
import joyfill.rememberEditor
import kotlin.random.Random

@Composable
internal fun SignatureSample() = ThemedSample {
    val document = buildDocument {
        date(format = "YYYY/MM/DD hh:mma")
        image()
        signature(
            id = "josh",
            required = true,
            identifier = "identifier-josh",
            tip = joyfill.ToolTip("yuuur", "description", true),
            value = "data:image/png;base64,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"
        )
    }
    Form(
        editor = rememberEditor(document) { (changelogs, document) ->
//            changelogs.forEach { println(it) }
//            println(document)
            val change = changelogs.firstOrNull()?.change as? FieldUpdateChange
            println("change: ${change?.value}")
        },
        mode = Mode.fill,
        onUpload = {
            val w = 1 + Random.nextInt(4)
            val h = 1 + Random.nextInt(4)
            listOf("https://picsum.photos/${w}00/${h}00?q=${Random.nextDouble()}")
        }
    )
}